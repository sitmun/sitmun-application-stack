###############################################################################
# SITMUN Application Stack Configuration
#
# This configuration file sets up the environment variables necessary for 
# running the SITMUN Application Stack. It covers the base URL, database 
# settings, and proxy configuration. Uncomment and modify the variables 
# below to suit your deployment environment.
###############################################################################

###############################################################################
# Base URL for reverse proxy configuration
###############################################################################

# The Base URL of the SITMUN docApplication Stack is defined by the following variables:
# - PUBLIC_URL_SCHEME: The protocol used (e.g., http or https)
# - PUBLIC_HOSTNAME: The hostname or IP address where the application is hosted
# - PUBLIC_PORT: The port number on which the application listens (must be blank if using a standard port)
# - PUBLIC_NON_STANDARD_PORT: Marks the use of a non standard port
# - PUBLIC_BASE_PATH: The context path of the application (e.g., "/app"). Must start and end with a slash.
#
# The full Base URL is computed by concatenating these variables. If PUBLIC_NON_STANDARD_PORT is commented out,
# ${PUBLIC_URL_SCHEME}://${PUBLIC_HOSTNAME}${PUBLIC_BASE_PATH}
#
# If PUBLIC_NON_STANDARD_PORT is set
#
# ${PUBLIC_URL_SCHEME}://${PUBLIC_HOSTNAME}:${PUBLIC_PORT}${PUBLIC_BASE_PATH}

# Example default value: "http://localhost:9000/"
#
# Modify the following lines to change the default settings when
# deploying the application behind a reverse proxy:

# PUBLIC_URL_SCHEME=http
# PUBLIC_HOSTNAME=localhost
PUBLIC_PORT=9000
PUBLIC_NON_STANDARD_PORT=1
# PUBLIC_BASE_PATH=/

###############################################################################
# Container configuration
###############################################################################

# In some scenarios, the default configuration is not adequate for running the container.
# - LOCAL_PORT: The port number on which the nginx container listens.
# - LOCAL_BASE_PATH: The base path used in the nginx container. 
#   It should be the  same as PUBLIC_BASE_PATH in most scenarios.
# - FRONT_ENV: Frontend build profile (testdeployment or production).
#   This selects the environment template used during Docker build.
 #
# Uncomment and modify the following lines to change the default settings when
# deploying the application in a different local port:

# LOCAL_PORT=9000
# LOCAL_BASE_PATH=/
# FRONT_ENV=testdeployment
 
###############################################################################
# Database Configuration
###############################################################################
#
# Two variables control the database setup:
#
# SITMUN_PROFILE    - High-level SITMUN scenario profile.
#                     Use `development` for local development scenarios.
#
# SITMUN_DB_PROFILE - Spring Boot database profile for the backend
#                     (`postgres` or `oracle`).
#                     Controls dialect/Liquibase and backend DB dependency.
#                     Must always be set.
#
# COMPOSE_PROFILES - Built-in Docker Compose variable that selects which
#                    containers start.
#                    - 'postgres' or 'oracle': starts a dockerized database
#                    - Add ',dev' to also start the example demo database
#                    - Omit entirely for external databases (no DB container)
#
# Use a profile .env file as a starting point (copy to root, then edit and run):
#   cp profiles/postgres.env .env                # Dockerized PostgreSQL
#   cp profiles/oracle.env .env                  # Dockerized Oracle
#   cp profiles/development-postgres.env .env    # PostgreSQL + demo database
#   cp profiles/development-oracle.env .env     # Oracle + demo database
#   cp profiles/postgres-external.env .env      # External PostgreSQL
#   cp profiles/oracle-external.env .env        # External Oracle
# Then edit .env and run: docker compose up -d
#
# Or set the variables directly below.
#
# --- Scenario 1: Dockerized PostgreSQL (default) ---
# SITMUN_PROFILE=development
# SITMUN_DB_PROFILE=postgres
# COMPOSE_PROFILES=postgres
# DATABASE_URL=jdbc:postgresql://postgres:5432/
#
# --- Scenario 2: Dockerized Oracle ---
# SITMUN_PROFILE=development
# SITMUN_DB_PROFILE=oracle
# COMPOSE_PROFILES=oracle
# DATABASE_URL=jdbc:oracle:thin:@//oracle:1521/
#
# --- Scenario 3: Dockerized DB + example demo database ---
# Add ,dev to COMPOSE_PROFILES to start the example database on port 9005.
# COMPOSE_PROFILES=postgres,dev
# COMPOSE_PROFILES=oracle,dev
#
# --- Scenario 4: External PostgreSQL (no DB container) ---
# SITMUN_PROFILE=development
# SITMUN_DB_PROFILE=postgres
# # COMPOSE_PROFILES is omitted -- no database container starts
# DATABASE_URL=jdbc:postgresql://your-host:5432/
# DATABASE=your_database
# DATABASE_USERNAME=your_username
# DATABASE_PASSWORD=your_password
#
# --- Scenario 5: External Oracle (no DB container) ---
# SITMUN_PROFILE=development
# SITMUN_DB_PROFILE=oracle
# # COMPOSE_PROFILES is omitted -- no database container starts
# DATABASE_URL=jdbc:oracle:thin:@//your-host:1521/
# DATABASE=your_database
# DATABASE_USERNAME=your_username
# DATABASE_PASSWORD=your_password
#
# --- Common database settings (defaults shown) ---
# DATABASE=sitmun3
# DATABASE_USERNAME=sitmun3
# DATABASE_PASSWORD=sitmun3

###############################################################################
# Proxy Configuration
###############################################################################

# Proxy settings can be enforced using the following variable:
# - FORCE_PROXY_USE: A boolean flag to enforce proxy usage. By default, this is disabled.
#
# Example:
# - FORCE_USE_OF_PROXY=true
#
# Uncomment and modify the following line to change the proxy enforcement setting:

# FORCE_USE_OF_PROXY=true

###############################################################################
# Security Configuration
###############################################################################

# Shared secret for backend-proxy authentication.
# Both backend and proxy services must use the same value.
# Generate a secure random value for production (e.g., openssl rand -hex 20)
# 
# Default: Uses a development-only default value if not set
# Production: MUST be set to a secure random value
#
# Uncomment and set a secure value for production deployments:

# MIDDLEWARE_SECRET=your-secure-secret-here